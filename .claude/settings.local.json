{
  "permissions": {
    "allow": [
      "Bash(test:*)",
      "Bash(npm install:*)",
      "Bash(npm run dev:*)",
      "Bash(dir:*)",
      "Bash(netstat:*)",
      "Bash(curl:*)",
      "Bash(node -e:*)",
      "WebSearch",
      "WebFetch(domain:towardsdatascience.com)",
      "WebFetch(domain:www.jenova.ai)",
      "WebFetch(domain:medium.com)",
      "WebFetch(domain:pasqualepillitteri.it)",
      "WebFetch(domain:www.instructionalsolutions.com)",
      "WebFetch(domain:redreamality.com)",
      "WebFetch(domain:github.com)",
      "Bash(gh repo view:*)",
      "Bash(git init:*)",
      "Bash(git remote add:*)",
      "Bash(git add:*)",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nInitial commit: MangaGrow - 漫画成长记录应用\n\n项目包含：\n- 完整的产品规格文档 \\(Product Spec\\)\n- React + Vite + TypeScript 前端应用\n- Google AI Studio \\(Gemini\\) 集成\n- 角色生成、剧本创作、漫画分镜生成功能\n- 产品开发工作流配置 \\(.claude/\\)\n\nCo-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git config:*)",
      "Bash(git push:*)",
      "WebFetch(domain:support.claude.com)",
      "WebFetch(domain:claude.com)",
      "Bash(claude:*)",
      "Bash(npx tsc:*)",
      "Bash(timeout 10 npx vite:*)",
      "Bash(timeout 8 npx vite:*)",
      "Bash(del \"C:\\\\Users\\\\Administrator\\\\Demo\\\\MangaGrow\\\\comic-growth-record\\\\services\\\\geminiService.ts\")",
      "Bash(npx vite --port 3000)",
      "Bash(echo:*)",
      "Bash(npx vite build:*)",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nrefactor: 拆分 geminiService 为 6 个专职模块 + 修复人物参考图和进度反馈\n\n架构升级（T-01~T-10）：\n- 将 geminiService.ts 拆分为 aiClient / styleConfig / inputService /\n  storyService / characterService / imageService 六个模块\n- 新增 5 步故事管线 + 2 个质量关卡（storyService）\n- 新增 imageUtils / storageUtils 工具模块\n- 新增 SDD 流程文档：Architecture.md / Tasks.md / architecture-diagram.html\n- 新增 architect skill 和 dev-constraints 规则\n\nBug 修复：\n- 修复人物参考图未生效：imageService 用 startsWith\\(''data:image''\\) 判断\n  图片来源，所有图片均误判为上一分镜，改为 isUserPhoto 标志\n- 修复生成时长时间无反馈：增加 generationStage 状态，显示 pipeline\n  各阶段进度（分析→构思→绘制第N幅）\n\nCo-Authored-By: Claude Opus 4.6 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nfix: 修复 storyService 空响应 - 替换巨型 SYSTEM_PROMPT 为精简指令\n\n旧的 SYSTEM_PROMPT（400行）包含大量交互规则和工作流程描述，\n在 responseMimeType: \"application/json\" 模式下导致 Gemini 返回空响应。\n替换为 STORY_SYSTEM_PROMPT（7行），仅包含故事创作的核心要求。\n\nCo-Authored-By: Claude Opus 4.6 <noreply@anthropic.com>\nEOF\n\\)\")",
      "mcp__ide__getDiagnostics",
      "Bash(timeout 8 node:*)",
      "Bash(node:*)",
      "WebFetch(domain:localhost)",
      "Bash(findstr:*)",
      "Bash(tasklist:*)",
      "Bash(taskkill:*)",
      "Bash(git commit:*)",
      "Bash(ls:*)",
      "Bash(./node_modules/.bin/tsc:*)",
      "Bash(pacman -S:*)",
      "Bash(apt-get install:*)",
      "Bash(powershell.exe -Command \"echo test\")",
      "Bash(ssh:*)",
      "Bash(npx kill-port:*)",
      "Bash(cmd:*)",
      "Bash(gh auth:*)",
      "Bash(cat:*)"
    ]
  }
}
